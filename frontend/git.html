<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git | Akara的前端笔记</title>
    <meta name="generator" content="VuePress 1.7.0">
    <link rel="icon" href="/blog/favicon.ico">
    <meta name="description" content="Fooly Cooly">
    
    <link rel="preload" href="/blog/assets/css/0.styles.e57ea1a4.css" as="style"><link rel="preload" href="/blog/assets/js/app.8456fffd.js" as="script"><link rel="preload" href="/blog/assets/js/2.8618d6ad.js" as="script"><link rel="preload" href="/blog/assets/js/24.b6b30cbb.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.3ff23fab.js"><link rel="prefetch" href="/blog/assets/js/11.09b35f14.js"><link rel="prefetch" href="/blog/assets/js/12.a5230948.js"><link rel="prefetch" href="/blog/assets/js/13.da084bb4.js"><link rel="prefetch" href="/blog/assets/js/14.73ecbf39.js"><link rel="prefetch" href="/blog/assets/js/15.094f6105.js"><link rel="prefetch" href="/blog/assets/js/16.d882b772.js"><link rel="prefetch" href="/blog/assets/js/17.f99a3402.js"><link rel="prefetch" href="/blog/assets/js/18.efb4f04e.js"><link rel="prefetch" href="/blog/assets/js/19.07110711.js"><link rel="prefetch" href="/blog/assets/js/20.328904f9.js"><link rel="prefetch" href="/blog/assets/js/21.8cbdc7e9.js"><link rel="prefetch" href="/blog/assets/js/22.d2057d2a.js"><link rel="prefetch" href="/blog/assets/js/23.9f56128f.js"><link rel="prefetch" href="/blog/assets/js/25.54438b61.js"><link rel="prefetch" href="/blog/assets/js/26.37498cf1.js"><link rel="prefetch" href="/blog/assets/js/27.2b58fbd4.js"><link rel="prefetch" href="/blog/assets/js/28.6c08951d.js"><link rel="prefetch" href="/blog/assets/js/29.e0f75c79.js"><link rel="prefetch" href="/blog/assets/js/3.b9f752a5.js"><link rel="prefetch" href="/blog/assets/js/30.ab15011f.js"><link rel="prefetch" href="/blog/assets/js/31.8cf1b6d0.js"><link rel="prefetch" href="/blog/assets/js/32.73cca382.js"><link rel="prefetch" href="/blog/assets/js/33.2a56a474.js"><link rel="prefetch" href="/blog/assets/js/34.42cb3d03.js"><link rel="prefetch" href="/blog/assets/js/35.94137746.js"><link rel="prefetch" href="/blog/assets/js/36.e851453a.js"><link rel="prefetch" href="/blog/assets/js/37.dfcaa02b.js"><link rel="prefetch" href="/blog/assets/js/38.773d62c5.js"><link rel="prefetch" href="/blog/assets/js/39.fff934a2.js"><link rel="prefetch" href="/blog/assets/js/4.5a189e09.js"><link rel="prefetch" href="/blog/assets/js/40.d1f5a698.js"><link rel="prefetch" href="/blog/assets/js/41.de3b1ae8.js"><link rel="prefetch" href="/blog/assets/js/42.3ad3f220.js"><link rel="prefetch" href="/blog/assets/js/43.4b9dc29e.js"><link rel="prefetch" href="/blog/assets/js/44.bb8ac6d0.js"><link rel="prefetch" href="/blog/assets/js/45.3de7dbda.js"><link rel="prefetch" href="/blog/assets/js/46.6e6c0e4f.js"><link rel="prefetch" href="/blog/assets/js/47.1c9bfac2.js"><link rel="prefetch" href="/blog/assets/js/48.484b889d.js"><link rel="prefetch" href="/blog/assets/js/49.b9d5c97f.js"><link rel="prefetch" href="/blog/assets/js/5.f2578a9e.js"><link rel="prefetch" href="/blog/assets/js/50.805af6ea.js"><link rel="prefetch" href="/blog/assets/js/51.e4b8b0bf.js"><link rel="prefetch" href="/blog/assets/js/52.88f0f15b.js"><link rel="prefetch" href="/blog/assets/js/53.dc5a22fc.js"><link rel="prefetch" href="/blog/assets/js/54.589407ad.js"><link rel="prefetch" href="/blog/assets/js/55.534c1c0e.js"><link rel="prefetch" href="/blog/assets/js/56.7e25d242.js"><link rel="prefetch" href="/blog/assets/js/57.4c00257c.js"><link rel="prefetch" href="/blog/assets/js/58.2846c49a.js"><link rel="prefetch" href="/blog/assets/js/59.5cdc41e2.js"><link rel="prefetch" href="/blog/assets/js/6.b035c77d.js"><link rel="prefetch" href="/blog/assets/js/60.69050108.js"><link rel="prefetch" href="/blog/assets/js/7.e580f382.js"><link rel="prefetch" href="/blog/assets/js/8.db5c9552.js"><link rel="prefetch" href="/blog/assets/js/9.d0e88da4.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.e57ea1a4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Akara的前端笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/blog/frontend/" class="nav-link router-link-active">
  前端博客
</a></div><div class="nav-item"><a href="/blog/mianshi/" class="nav-link">
  面经
</a></div><div class="nav-item"><a href="/blog/gossip/" class="nav-link">
  杂记
</a></div> <a href="https://github.com/messiahhh/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/blog/frontend/" class="nav-link router-link-active">
  前端博客
</a></div><div class="nav-item"><a href="/blog/mianshi/" class="nav-link">
  面经
</a></div><div class="nav-item"><a href="/blog/gossip/" class="nav-link">
  杂记
</a></div> <a href="https://github.com/messiahhh/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/blog/frontend/" aria-current="page" class="sidebar-link">HTML</a></li><li><a href="/blog/frontend/css.html" class="sidebar-link">CSS</a></li><li><a href="/blog/frontend/javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/blog/frontend/node.html" class="sidebar-link">Node</a></li><li><a href="/blog/frontend/stream.html" class="sidebar-link">流与二进制</a></li><li><a href="/blog/frontend/react.html" class="sidebar-link">React</a></li><li><a href="/blog/frontend/react相关库.html" class="sidebar-link">React相关库</a></li><li><a href="/blog/frontend/vue.html" class="sidebar-link">Vue</a></li><li><a href="/blog/frontend/react-vs-vue.html" class="sidebar-link">React-vs-Vue</a></li><li><a href="/blog/frontend/typescript.html" class="sidebar-link">TypeScript</a></li><li><a href="/blog/frontend/typescript-in-react.html" class="sidebar-link">TypeScript-In-React</a></li><li><a href="/blog/frontend/browser.html" class="sidebar-link">浏览器相关</a></li><li><a href="/blog/frontend/前端工程化.html" class="sidebar-link">前端工程化</a></li><li><a href="/blog/frontend/计算机网络.html" class="sidebar-link">计算机网络</a></li><li><a href="/blog/frontend/前端安全.html" class="sidebar-link">前端安全</a></li><li><a href="/blog/frontend/错误监控.html" class="sidebar-link">错误监控</a></li><li><a href="/blog/frontend/网站优化.html" class="sidebar-link">性能优化</a></li><li><a href="/blog/frontend/数据结构.html" class="sidebar-link">数据结构</a></li><li><a href="/blog/frontend/排序.html" class="sidebar-link">排序算法</a></li><li><a href="/blog/frontend/编程题.html" class="sidebar-link">编程题</a></li><li><a href="/blog/frontend/mongodb.html" class="sidebar-link">MongoDB</a></li><li><a href="/blog/frontend/mysql.html" class="sidebar-link">Mysql</a></li><li><a href="/blog/frontend/linux.html" class="sidebar-link">Linux</a></li><li><a href="/blog/frontend/git.html" aria-current="page" class="active sidebar-link">Git</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#git" class="sidebar-link">Git</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#基础" class="sidebar-link">基础</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#repo交互" class="sidebar-link" style="padding-left:4rem;">repo交互</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#git-stash" class="sidebar-link" style="padding-left:4rem;">git stash</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#分支合并" class="sidebar-link">分支合并</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#git-merge" class="sidebar-link" style="padding-left:4rem;">git merge</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#git-rebase" class="sidebar-link" style="padding-left:4rem;">git rebase</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#版本回退和前进" class="sidebar-link">版本回退和前进</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#版本回退" class="sidebar-link" style="padding-left:4rem;">版本回退</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#版本前进" class="sidebar-link" style="padding-left:4rem;">版本前进</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#合并commit" class="sidebar-link">合并Commit</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#git原理" class="sidebar-link">git原理</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/git.html#git-object" class="sidebar-link" style="padding-left:4rem;">git object</a></li></ul></li></ul></li><li><a href="/blog/frontend/docker.html" class="sidebar-link">Docker</a></li><li><a href="/blog/frontend/设计模式.html" class="sidebar-link">设计模式</a></li><li><a href="/blog/frontend/websocket.html" class="sidebar-link">WebSocket</a></li><li><a href="/blog/frontend/webgl.html" class="sidebar-link">Three.js</a></li><li><a href="/blog/frontend/php.html" class="sidebar-link">PHP</a></li><li><a href="/blog/frontend/代码段记录.html" class="sidebar-link">代码记录</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="git"><a href="#git" class="header-anchor">#</a> Git</h2> <h3 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> init <span class="token comment"># 初始化git仓库</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token comment"># 工作目录内容添加进索引区域</span>
<span class="token function">git</span> commit -m <span class="token string">''</span> <span class="token comment"># 生成新的commit，commit对应某个时刻的内容</span>
<span class="token function">git</span> push origin main <span class="token comment"># 推送分支  </span>
<span class="token function">git</span> push origin <span class="token builtin class-name">test</span> --delete <span class="token comment"># 删除远程分支</span>

<span class="token function">git</span> branch <span class="token comment"># 显示所有分支</span>
<span class="token function">git</span> branch <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> <span class="token comment"># 创建分支</span>
<span class="token function">git</span> branch -m <span class="token operator">&lt;</span>nameA<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>nameB<span class="token operator">&gt;</span> <span class="token comment"># 修改分支名</span>
<span class="token function">git</span> branch -D <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> <span class="token comment"># 删除分支</span>
<span class="token function">git</span> checkout <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> <span class="token comment"># 切换分支</span>
<span class="token function">git</span> checkout - <span class="token comment"># 切换到上一个分支</span>
<span class="token function">git</span> checkout -b <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> <span class="token comment"># 创建分支并切换过去</span>

<span class="token function">git</span> merge <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> <span class="token comment"># 合并目标分支</span>
<span class="token function">git</span> rebase <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> <span class="token comment"># 合并目标分支</span>

<span class="token function">git</span> restore <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> <span class="token comment"># 使用缓存区的内容恢复工作目录的内容</span>
<span class="token function">git</span> restore --staged <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> <span class="token comment"># 释放缓存区</span>

<span class="token function">git</span> reset --hard HEAD^ <span class="token comment"># 回退到上一个commit</span>
<span class="token function">git</span> revert HEAD <span class="token comment"># 回退某个commit</span>

<span class="token function">git</span> log <span class="token comment"># 查看commit记录</span>
<span class="token function">git</span> reflog <span class="token comment"># 查看历史git命令</span>
<span class="token function">git</span> status <span class="token comment"># 看到当前状态</span>
</code></pre></div><blockquote><p>当我们新建文件<code>akara.txt</code>，并使用<code>git add .</code>添加进缓存区。此时我们可以：</p> <ol><li><code>git commit -m ''</code>： 提交记录。</li> <li><code>git reset HEAD &lt;file&gt;</code>: 释放缓存。类似的还有<code>git rm --cached &lt;file&gt;</code>用来删除缓存区的内容</li></ol> <p>当我们新建文件<code>akara.txt</code>，并使用<code>git add .</code>添加进缓存区，之后修改该文件的内容。此时我们可以：</p> <ol><li><code>git add .</code>：缓存修改后的内容。</li> <li><code>git checkout -- &lt;file&gt;</code>：丢弃修改的内容。本质是用原本缓存区的内容替代工作目录中的文件内容。</li></ol></blockquote> <h5 id="repo交互"><a href="#repo交互" class="header-anchor">#</a> repo交互</h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> remote <span class="token comment"># 查看远程仓库的信息</span>
<span class="token function">git</span> clone <span class="token comment"># 拉取远程仓库到本地</span>
<span class="token function">git</span> push <span class="token comment"># 推送给远程仓库</span>
<span class="token function">git</span> fetch <span class="token comment"># 拉取远程仓库的更新</span>
<span class="token function">git</span> pull <span class="token comment"># 拉取远程仓库的更新，并且和本地仓库的内容合并（相当于git fetch + git merge）</span>
</code></pre></div><h5 id="git-stash"><a href="#git-stash" class="header-anchor">#</a> git stash</h5> <p>大部分情况我们都能够随意的进行分支的切换。现在假设这样的情况，存在<code>main</code>分支拥有<code>akara.txt</code>文件，而<code>test</code>分支不存在该文件。此时当我们在<code>main</code>分支修改该文件，由于<code>test</code>分支不存在该文件，我们无法顺利切换过去。`</p> <p>为此我们需要先提交我们的修改，或者使用<code>git stash</code>来缓存内容的修改，并在未来合适的时候释放缓存的内容。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> stash <span class="token comment"># 缓存内容的修改</span>
<span class="token function">git</span> stash list <span class="token comment"># 查看缓存的记录</span>
<span class="token function">git</span> stash pop <span class="token comment"># 释放内容的缓存</span>
</code></pre></div><h3 id="分支合并"><a href="#分支合并" class="header-anchor">#</a> 分支合并</h3> <blockquote><p><a href="https://backlog.com/git-tutorial/cn/stepup/stepup1_4.html" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h5 id="git-merge"><a href="#git-merge" class="header-anchor">#</a> git merge</h5> <p>如图一，当我们处于<code>master</code>分支使用<code>git merge test</code>时，这种合并称之为<code>fast-forward</code>（快进）</p> <p><img src="https://backlog.com/git-tutorial/cn/img/post/stepup/capture_stepup1_4_1.png" alt="fast-forward"></p> <p>它的结果如图二所示：</p> <p><img src="https://backlog.com/git-tutorial/cn/img/post/stepup/capture_stepup1_4_2.png" alt="fast-forward合并"></p> <p>不过图三这种才是大部分情况可能的场景，我们通常从某个分支中新建一个<code>test</code>分支，而之后<code>master</code>分支可能已经被其他人更新过了。</p> <p><img src="https://backlog.com/git-tutorial/cn/img/post/stepup/capture_stepup1_4_3.png" alt="分支合并"></p> <p>此时当我们在<code>master</code>分支使用<code>git merge test</code>，会产生一个新的分支。</p> <p><img src="https://backlog.com/git-tutorial/cn/img/post/stepup/capture_stepup1_4_4.png" alt="分支合并结果"></p> <h5 id="git-rebase"><a href="#git-rebase" class="header-anchor">#</a> git rebase</h5> <p>使用<code>git merge</code>的好处是保持了原先的<code>commit</code>记录，但是历史记录会很复杂；而<code>git rebase</code>的好处是历史记录简单，但是会修改原先的<code>commit</code>记录。</p> <p><img src="https://backlog.com/git-tutorial/cn/img/post/stepup/capture_stepup1_4_6.png" alt="git-rebase"></p> <p>我们处于<code>master</code>分支时使用<code>git rebase test</code>来合并分支，结果如图二：</p> <p><img src="https://backlog.com/git-tutorial/cn/img/post/stepup/capture_stepup1_4_7.png" alt="git-rebase结果"></p> <h3 id="版本回退和前进"><a href="#版本回退和前进" class="header-anchor">#</a> 版本回退和前进</h3> <p>通常我们使用<code>git reset --hard &lt;commitID&gt;</code>来实现对版本的控制</p> <h5 id="版本回退"><a href="#版本回退" class="header-anchor">#</a> 版本回退</h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> reset --hard Head^ <span class="token comment"># 回退到上个commit</span>
<span class="token function">git</span> reset --hard Head^^ <span class="token comment"># 回退到上上个commit</span>
<span class="token function">git</span> reset --hard <span class="token operator">&lt;</span>commitID<span class="token operator">&gt;</span> <span class="token comment"># 回退到某个具体commit</span>
</code></pre></div><h5 id="版本前进"><a href="#版本前进" class="header-anchor">#</a> 版本前进</h5> <p>有的时候当我们回退了版本之后，又希望恢复到之前的版本，这时候我们就需要知道原先的<code>commitID</code>，比如我们可以使用<code>git reflog</code>来查看历史命令，以及当时所处在的<code>commitID</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> reset --hard <span class="token operator">&lt;</span>commitID<span class="token operator">&gt;</span> <span class="token comment"># 前进到某个具体commit</span>
</code></pre></div><h3 id="合并commit"><a href="#合并commit" class="header-anchor">#</a> 合并Commit</h3> <p>很多时候我们会提交很多次<code>commit</code>，显得十分的杂乱，这时候可以使用<code>git rebase -i</code>来合并<code>commit</code>记录，实现美化的效果。</p> <p>比如，我们现在分别有<code>A -&gt; B -&gt; C -&gt; D -&gt; E</code>这五个<code>commit</code>记录，我们希望把<code>C、D、E</code>合并成一个记录：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> rebase -i <span class="token operator">&lt;</span>commit_B<span class="token operator">&gt;</span>
</code></pre></div><p>然后会出现可编辑的页面</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pick <span class="token operator">&lt;</span>commit_C<span class="token operator">&gt;</span> 我是commitC的message
pick <span class="token operator">&lt;</span>commit_D<span class="token operator">&gt;</span> 我是commitD的message
pick <span class="token operator">&lt;</span>commit_E<span class="token operator">&gt;</span> 我是commitE的message
</code></pre></div><p>我们可以把<code>commit_D</code>和<code>commit_E</code>的<code>pick</code>改成<code>squash</code>，再保存就会把这三个<code>commit</code>合并成一个新的<code>commit</code>，并在下一步可以手动更改新的<code>commit</code>的<code>message</code>。</p> <h3 id="git原理"><a href="#git原理" class="header-anchor">#</a> git原理</h3> <blockquote><p><a href="https://zhuanlan.zhihu.com/p/96631135" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><code>commit</code>节点通过<code>tree</code>节点记录着某个时刻对应的文件信息，这些对应的文件保存在索引区域中（严格来说，这些文件被当作<code>object</code>节点存于<code>git</code>仓库中，索引指向着这些文件），当我们切换到某个<code>commit</code>时，会根据索引把对应的文件同步到工作目录中。</p> <p>通常当我们修改工作目录中的文件后，通过<code>git add</code>把更新同步到索引中（即在<code>git</code>仓库中创建一个新的<code>object</code>结点，并更新索引的指向），然后使用<code>git commit</code>来生成一个新的<code>commit</code>节点（即先根据索引的指向生成一个<code>tree</code>节点，再生成<code>commit</code>节点），新的<code>commit</code>节点记录着新的文件信息。</p> <p>假设<code>commitA</code>和<code>commitB</code>都记录着文件<code>test</code>，那么当我们处于<code>commitA</code>时并修改工作目录的文件后，或者已经同步到索引区域，只要还没有提交记录的话，这时候如果我们切换到<code>commitB</code>，那我们的本地修改会同步到<code>commitB</code>当中。</p> <p>不过，如果我们在<code>commitA</code>记录着文件<code>a</code>，而<code>commitB</code>中不存在文件<code>a</code>，然后我们处于<code>commitA</code>时修改文件<code>a</code>，这时候直接切换到<code>commitB</code>就会失败，并且会提醒我们应该先提交我们的修改，或者可以使用<code>git stash</code>来把我们的修改暂存到<code>commitA</code>中。</p> <p>比如我们可以先使用<code>git stash</code>暂存修改，然后就可以直接切换到<code>commitB</code>了，未来回到<code>commitA</code>时又可以使用<code>git stash pop</code>把暂存的修改内容拿出来。</p> <h5 id="git-object"><a href="#git-object" class="header-anchor">#</a> git object</h5> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 显示所有object</span>
<span class="token function">ls</span> .git/objects/
<span class="token number">10</span>/ ea/ 1c/ <span class="token punctuation">..</span>. /info /pack

<span class="token comment"># 查看object类型/值，常见类型：blob(git add 后创建), tree和commit(git commit 后创建)</span>
<span class="token function">git</span> cat-file -t 58c9 
<span class="token function">git</span> cat-file -p 58c9 <span class="token comment"># 58c9为想找的object的值</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/messiahhh/blog/edit/master/docs/frontend/git.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">7/19/2021, 4:21:21 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/frontend/linux.html" class="prev">
        Linux
      </a></span> <span class="next"><a href="/blog/frontend/docker.html">
        Docker
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.8456fffd.js" defer></script><script src="/blog/assets/js/2.8618d6ad.js" defer></script><script src="/blog/assets/js/24.b6b30cbb.js" defer></script>
  </body>
</html>
